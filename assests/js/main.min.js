function verifyOTPbilling(e){(2==e?document.getElementById("dig_billing_signupwithpassword"):document.getElementById("dig_billing_validate_button")).click()}jQuery(function(){var t;if(jQuery("#digit_emailaddress").closest("form").addClass("register"),jQuery("#wc_code_dig").closest("form").addClass("login"),jQuery("#digits_wc_code").closest("form").addClass("woocommerce-ResetPassword"),1!=dig_log_obj.dig_dsb){var c,l=jQuery(".dig_load_overlay"),r=jQuery("#reg_email"),a=(jQuery(".dig_wc_mailsecond"),jQuery("#dig_secHolder"),jQuery("#secondmailormobile"),jQuery("#user_login"));jQuery('input[id="account_email"]').each(function(e){jQuery(this).parent().find("label").find("span").remove()});var e=dig_mdet.dig_sortorder,i=jQuery(".woocommerce").find("form.register");if(e.length){0<dig_mdet.mobile_accept?i.find("#reg_email").parent().attr({id:"dig_cs_mobilenumber",class:"dig-custom-field woocommerce-FormRow--wide form-row form-row-wide"}):i.find("#reg_email").parent().attr({id:"dig_cs_email",class:"dig-custom-field woocommerce-FormRow--wide form-row form-row-wide"});var d=e.split(","),n=i;n.find(".dig-custom-field").sort(function(e,i){var t=jQuery.inArray(e.id,d),r=jQuery.inArray(i.id,d);return t<r?-1:r<t?1:0}).prependTo(n)}var o=jQuery(".ihc-form-create-edit");if(o.length&&0<dig_mdet.mobile_accept){var u=jQuery(".iump-register-form").find("#createuser"),s=dig_mdet.uccode;u.find("input[name='phone']").attr({"data-dig-main":1,reg:2,"data-skip-label":1,id:"username",mob:1,countryCode:s,nan:1}),jQuery('<input type="hidden" id="dig_ihc_ea_code" name="code"/><input type="hidden" id="dig_ihc_ea_csrf" name="csrf"/><div id="dig_ihc_mobotp" class="iump-form-line-register iump-form-text" style="display:none;"><input value="" id="digits_otp_ihc" name="digit_otp" placeholder="'+dig_mdet.OTP+'" type="text" style="padding-left:10px !important;">').insertBefore(u.find("input[type='submit']").parent())}var g=jQuery("#wc_dig_reg_form").closest("form"),_=jQuery(".woocommerce-form-login");g.length&&(g.find('input[type="password"]').closest(".woocommerce-FormRow").remove(),g.find('input[name="login"]').remove(),g.find(".woocommerce-LostPassword").remove(),g.find("#rememberme").closest("label").remove(),g.find("#username").attr("mob",1),_.length&&(_.find('input[type="password"]').parent().remove(),_.find(".form-row-first").removeClass("form-row-first"),_.find(".lost_password").remove(),_.find("#rememberme").closest("label").remove(),_.find('[name="login"]').remove(),_.find("#username").attr("mob",1)));var m=jQuery("#dig_wc_check_page");if(m.length)m=m.parent(),(se=(se=m.find(".create-account")).last()).length&&(se.find("#username").attr({"f-mob":1,reg:1,"data-dig-mob":1}),2==dig_mdet.mobile_accept&&se.find("#username").attr({"data-dig-mob":1}),jQuery(".wc_check_dig_custfields").appendTo(se));var p,f,y=!1,h=jQuery("#dig_billing_password");if(1==dig_mdet.overwriteWcBillShipMob||m.length&&0==dig_mdet.mob_verify_checkout){var v=jQuery("#billing_phone"),b=jQuery("#shipping_phone");p=v.val(),f=b.val();var j=p,Q=f,w=0,N=0;if(0<String(p).length||0<String(f).length)w=N=-1,0<v.length&&0<String(p).length&&(p=p.replace("+","")),0<b.length&&0<String(f).length&&(f=f.replace("+","")),jQuery(".digit_cs-list").find("li").each(function(){var e=jQuery(this).attr("value");0<v.length&&(0==p.indexOf(e)&&N<e&&(N=e));0<b.length&&(0==f.indexOf(e)&&w<e&&(w=e))}),-1!=N&&(p=p.substring(String(N).length)),-1!=w&&(f=f.substr(String(w).length));v.attr({value:p,countryCode:N,name:"billing_phone_no",id:"username","data-dig-main":"billing_phone",nan:1}).parent().append('<input type="hidden" name="billing_phone" id="billing_phone" value="'+j+'" />'),b.attr({value:f,countryCode:w,name:"shipping_phone_no",id:"username","data-dig-main":"shipping_phone",nan:1}).parent().append('<input type="hidden" name="shipping_phone" id="shipping_phone" value="'+Q+'" />')}var A=jQuery(".um-register");A.length&&A.find(".um-field-mobile_number").find("input").attr("id","username");var T=jQuery(".um-login");T.length&&T.find(".um-field-mobile_number").find("input").attr("id","username"),jQuery('input[id="username"]').each(function(e){Le(jQuery(this))}),jQuery("#wc-pos-actions").find("#add_customer_to_register").on("click",function(){setTimeout(function(){Le(jQuery("#username_field").find("#username"))},100)}),jQuery(".dig_update_hidden").on("keyup change",function(){var e=jQuery(this).attr("data-dig-main"),i=jQuery(this).closest(".digcon").find("#username").val(),t=jQuery(this).val();jQuery.isNumeric(i)&&0<i.length&&0<t.length&&jQuery.isNumeric(t)?jQuery("#"+e).val(t+""+i):jQuery("#"+e).val("")}),jQuery('input[id="reg_email"]').each(function(e){var i,r=jQuery(this),d=r.parent(),t=" <span class=required>*</span>";if(1==dig_mdet.mail_accept&&1==dig_mdet.mobile_accept)i=dig_mdet.emailormobile;else if(0<dig_mdet.mobile_accept)i=dig_mdet.MobileNumber,1==dig_mdet.mobile_accept&&(t=" <span class=required>("+dig_mdet.optional+")</span>");else{if(1!=dig_mdet.mail_accept)return;i=dig_mdet.email}d.children("label").html(i+t),r.attr("placeholder")&&r.attr("placeholder",i),r.wrap('<div class="digcon"></div>').before('<div class="dig_wc_countrycodecontainer dig_wc_registercountrycodecontainer"><input type="text" name="digfcountrycode" class="input-text countrycode dig_wc_registercountrycode" value="'+dig_mdet.uccode+'" maxlength="6" size="3" placeholder="'+dig_mdet.uccode+'"/></div>'),r.bind("keyup change",function(e){var i=d.find(".dig_wc_countrycodecontainer"),t=i.find("input");jQuery.isNumeric(r.val())?(i.css({display:"inline-block"}),t.trigger("keyup")):(i.hide(),jQuery(this).css({"padding-left":"0.75em"})),Se(r)});jQuery(this).closest("form");r.attr({type:"text"}),setTimeout(function(){r.trigger("keyup")})});jQuery("#username"),r.parent();a.parent().children("label").html(dig_mdet.emailormobile+" <span class=required>*</span>"),jQuery('input[id="secondmailormobile"]').each(function(e){2!=dig_mdet.mail_accept&&2!=dig_mdet.mobile_accept&&(sRegMail=jQuery(this),sRegMail.wrap('<div class="digcon"></div>').before('<div class="dig_wc_countrycodecontainer dig_wc_registersecondcountrycodecontainer"><input type="text" name="digsfcountrycode" class="input-text countrycode dig_wc_registersecondcountrycode" value="'+dig_mdet.uccode+'" maxlength="6" size="3" placeholder="'+dig_mdet.uccode+'"/></div>'),sRegMail.attr("placeholder")&&sRegMail.attr("placeholder",dig_mdet.emailormobile),sRegMail.bind("keyup change",function(){var e=jQuery(this).parent().find(".dig_wc_registersecondcountrycodecontainer"),i=e.find("input");jQuery.isNumeric(jQuery(this).val())&&!jQuery.isNumeric(r.val())?(e.css({display:"inline-block"}),i.trigger("keyup")):(e.hide(),jQuery(this).css({"padding-left":"0.75em"}))}),setTimeout(function(){sRegMail.trigger("keyup")}))}),jQuery(".dig_wc_registersecondcountrycode").bind("keyup change",function(e){var i=jQuery(this),t=i.val(),r=t.length,d=i.parent().parent().find("input#secondmailormobile");++r<2&&(r=2),i.attr("size",r),0==t.trim().length&&i.val("+"),d.css({"padding-left":i.outerWidth()+15+"px"},"fast",function(){})}),a.attr("disabled")||(a.wrap('<div class="digcon"></div>').before('<div class="dig_wc_countrycodecontainer forgotcountrycodecontainer"><input type="text" name="dig_countrycodec" class="input-text countrycode forgotcountrycode" value="'+dig_mdet.uccode+'" maxlength="6" size="3" placeholder="'+dig_mdet.uccode+'"/></div>'),setTimeout(function(){a.trigger("keyup")})),jQuery(".dig_wc_registercountrycode").bind("keyup change",function(e){var i=jQuery(this),t=jQuery(this).val(),r=t.length,d=i.parent().parent().find("input#reg_email");++r<2&&(r=2),i.attr("size",r),0==t.trim().length&&i.val("+"),d.css({"padding-left":i.outerWidth()+15+"px"},"fast",function(){}),Se(d)}),a.bind("keyup change",function(e){jQuery.isNumeric(jQuery(this).val())?(jQuery(".forgotcountrycodecontainer").css({display:"inline-block"}),jQuery(".forgotcountrycode").trigger("keyup")):(jQuery(".forgotcountrycodecontainer").hide(),jQuery(this).css({"padding-left":"0.75em"}))}),jQuery(".forgotcountrycode").bind("keyup change",function(e){var i=jQuery(this).val().length;++i<2&&(i=2),jQuery(this).attr("size",i),0==jQuery(this).val().trim().length&&jQuery(this).val("+"),a.css({"padding-left":jQuery(".forgotcountrycode").outerWidth()+15+"px"},"fast",function(){})});var k=!1,P=0;jQuery(document).on("keyup",".dig_wc_logincountrycode",function(e){var i=jQuery(this),t=i.val(),r=t.length,d=i.parent().parent().find("#username");++r<2&&(r=2),i.attr("size",r),0==t.trim().length&&i.val("+"),d.attr("style","padding-left:"+(i.outerWidth()+15)+"px !important;"),Ue(d)});jQuery(".login .inline").each(function(){jQuery(this).closest("form").find(".woocommerce-LostPassword").prepend(jQuery(this))});var x=0,C=0;jQuery("form.register input").focusout(function(){1!=C&&(jQuery("form.register input[type='submit']").each(function(){jQuery(this).removeAttr("disabled").removeClass("disabled")}),C=0)});var E=0;jQuery(".woocommerce-ResetPassword input").focusin(function(){1!=E&&(jQuery(".woocommerce-ResetPassword input[type='submit']").each(function(){jQuery(this).removeAttr("disabled").removeClass("disabled")}),E=1)});var I=0;jQuery(".woocommerce-ResetPassword input").focusout(function(){1!=I&&(jQuery(".woocommerce-ResetPassword input[type='submit']").each(function(){jQuery(this).removeAttr("disabled").removeClass("disabled")}),I=1)});var q;jQuery("form.login input").focusout(function(){jQuery("form.login input[type='submit']").each(function(){jQuery(this).removeAttr("disabled").removeClass("disabled")}),0});var O,M,H,R=0;2!=dig_mdet.pass_accept&&0<dig_mdet.mobile_accept&&jQuery('form.register input[id="reg_password"]').each(function(){jQuery(this).parent().hide()}),jQuery("form.register .woocommerce-Button,form.register button[name='register']").each(function(){"register"==jQuery(this).attr("name")&&(jQuery(this).hasClass("otp_reg_dig_wc")||jQuery(".otp_reg_dig_wc").length&&jQuery(this).val(dig_mdet.RegisterWithPassword).addClass("wc_reg_pass_btn"))}),jQuery("form.register input[type='submit'],form.register .woocommerce-Button,form.register button[name='register']").click(function(e){if(1==x)return!0;if(q=jQuery(this).closest("form"),re=jQuery(this),jQuery(this).hasClass("otp_reg_dig_wc"))q.find(".wc_reg_pass_btn").hide(),q.find("#_wpnonce").parent().find("input[type='submit']").remove();else if(0==R){R=1;var i=q.find("#reg_password").parent();if("none"==i.css("display"))return q.find(".otp_reg_dig_wc").hide(),i.show(),!1}var t=q.find("#reg_password"),r=jQuery.trim(q.find("#reg_email").val()),d=jQuery.trim(q.find("#secondmailormobile").val());if(0<t.length){var n=t.val();if(1==dig_mdet.strong_pass&&(2==dig_mdet.pass_accept||0<n.length)){var o=wp.passwordStrength.meter(n,["black","listed","word"],n);if(null!=o&&o<3)return ei(dig_mdet.useStrongPasswordString),!1}}var a=!1;if(jQuery(this).closest("form").find("input,textarea,select").each(function(){if(jQuery(this).attr("required")){if(!jQuery(this).is(":visible"))return;var e=jQuery(this);if(e.is(":checkbox")||e.is(":radio")){if(!e.is(":checked")&&!jQuery('input[name="'+e.attr("name")+'"]:checked').val())return!(a=!0)}else{var i=e.val();if(null==i||0==i.length)return!(a=!0)}}}),a)return ei(dig_mdet.fillAllDetails),!1;if(jQuery(".dig_opt_mult_con_tac").find(".dig_input_error").length)return ei(dig_mdet.accepttac),!1;if(0==dig_mdet.mobile_accept&&0==dig_mdet.mail_accept)return!0;if(0<t.length){var u=t.val();if(!jQuery(this).hasClass("otp_reg_dig_wc")&&0==u.length)return ei(dig_mdet.invalidpassword),!1;if(0==u.length&&We(r)&&We(d)&&!jQuery.isNumeric(r)&&!jQuery.isNumeric(d))return ei(dig_mdet.eitherentermoborusepass),!1}if(We(r)&&We(d)&&0<d.length)return ei(dig_mdet.InvalidMobileNumber),!1;if(jQuery.isNumeric(r)&&jQuery.isNumeric(d)&&0<d.length)return ei(dig_mdet.InvalidEmail),!1;var s=q.find("#dig_reg_mail");if(We(r)?s.val(r):We(d)&&s.val(d),2==dig_mdet.mail_accept&&!We(d))return ei(dig_mdet.InvalidEmail),!1;if(2==dig_mdet.mobile_accept&&!jQuery.isNumeric(r)&&!jQuery.isNumeric(d))return ei(dig_mdet.InvalidMobileNumber),!1;var c=jQuery("#reg_billing_otp");if(1==z)return jQuery.isNumeric(r)?Ge(q.find(".dig_wc_registercountrycode").val(),r,V.val(),c.val(),2):jQuery.isNumeric(d)&&Ge(q.find(".dig_wc_registersecondcountrycode").val(),d,V.val(),c.val(),2),!1;if(0<c.length){if(q.find("#reg_username").length&&(D=q.find("#reg_username").val()),q.find(".dig-custom-field-type-captcha").length&&(U=q.find(".dig-custom-field-type-captcha").find("input[type='text']").val(),S=q.find(".dig-custom-field-type-captcha").find(".dig_captcha_ses").val()),jQuery.isNumeric(r))return L=d,ze(q.find(".dig_wc_registercountrycode").val(),r,V.val(),2),L=r,!1;if(jQuery.isNumeric(d))return ze(q.find(".dig_wc_registersecondcountrycode").val(),d,V.val(),2),!1}else{if(jQuery.isNumeric(r))return l.show(),AccountKit.login("PHONE",{countryCode:q.find(".dig_wc_registercountrycode").val(),phoneNumber:oi(r)},Ke),!1;if(jQuery.isNumeric(d))return l.show(),AccountKit.login("PHONE",{countryCode:q.find(".dig_wc_registersecondcountrycode").val(),phoneNumber:oi(d)},Ke),!1}});var D="",L="",U="",S="",K=0;jQuery(".woocommerce-checkout").find("#dig_billing_otp").on("blur",function(e){if(0!=jQuery(this).val().length&&2!=K){if(1==dig_mdet.firebase&&1==K){l.show();var i=jQuery("#dig_wc_bill_code").closest("form"),t=i.find("#dig_billing_otp").val();window.confirmationResult.confirm(t).then(function(e){firebase.auth().currentUser.getIdToken(!0).then(function(e){window.verifyingCode=!1,window.confirmationResult=null,jQuery("#dig_ftok_fbase").remove(),i.append("<input type='hidden' name='dig_ftoken' value='"+e+"' id='dig_ftok_fbase' />"),K=2,l.hide()}).catch(function(e){l.hide(),ei(e)})}).catch(function(e){l.hide(),ei(dig_mdet.InvalidOTP)})}return!0}}),l.on("click",function(){y&&l.hide()});var W,z=0,Y=0,B=0,F=0,V=jQuery(".dig_nounce");jQuery(".dig_wc_mobileLogin").click(function(){re=jQuery(this);var e=(W=jQuery(this).closest("form")).find(".dig_wc_logincountrycode").val(),i=W.find("#username").val();if(""!=i&&""!=e){var t=jQuery("#dig_wc_log_otp");1==dig_mdet.captcha_accept&&t.length&&(U=W.find("input[name='digits_reg_logincaptcha']").val(),S=W.find(".dig-custom-field-type-captcha").find(".dig_captcha_ses").val(),0==U.length)?ei("Please enter a valid captcha!"):jQuery.isNumeric(i)&&jQuery.isNumeric(i)?1!=Y?0<t.length?jQuery.isNumeric(i)&&ze(e,i,V.val(),1):jQuery.isNumeric(i)?(l.show(),AccountKit.login("PHONE",{countryCode:e,phoneNumber:oi(i)},De)):(l.show(),AccountKit.login("PHONE",{},De)):Ge(e,i,V.val(),jQuery("#dig_wc_log_otp").val(),1):ei(dig_mdet.InvalidMobileNumber)}else ei(dig_mdet.InvalidMobileNumber)});var G,J,X,Z=0,$=0,ee=-1;jQuery("form.lost_reset_password input[type='submit'],form.lost_reset_password button[type='submit']").click(function(){if(re=jQuery(this),-1==ee&&(ee=jQuery(this).is(":input")?jQuery(this).val():jQuery(this).text()),1==$)return jQuery("#dig_wc_password").val()==jQuery("#dig_wc_cpassword").val()||(ei(dig_mdet.Passwordsdonotmatch),!1);var e=a.val(),i=jQuery("form.lost_reset_password .forgotcountrycode").val(),t=jQuery("#digit_forgot_otp");return 1==B?(Ge(i,e,V.val(),t.val(),3),!1):jQuery.isNumeric(e)?(jQuery("form.lost_reset_password").attr("action",window.location.pathname+"?login=true"),t.length?ze(i,e,V.val(),3):(l.show(),AccountKit.login("PHONE",{countryCode:i,phoneNumber:oi(e)},Ve)),!1):(jQuery("form.lost_reset_password").removeAttr("action"),!0)});var ie=0;jQuery("form.woocommerce-EditAccountForm input[type='submit'],form.woocommerce-EditAccountForm button[type='submit']").click(function(){if(re=jQuery(this),1==ie)return!0;var e=jQuery(this).closest("form"),i=e.find("#dig_wc_cur_phone").val(),t=e.find(".dig_wc_nw_phone").val(),r=e.find(".dig_wc_logincountrycode").val();if(0==t.length)return!0;if(i==t)return!0;if(jQuery.isNumeric(t)){var d=jQuery("#digit_ac_otp");if(1==F)return Ge(r,t,V.val(),d.val(),11),!1;d.length?ze(r,t,V.val(),11):(l.show(),AccountKit.login("PHONE",{countryCode:r,phoneNumber:oi(t)},Xe))}else ei(dig_mdet.InvalidMobileNumber);return!1});var te=0;jQuery("form#your-profile input[type='submit']").click(function(){if(te=1,re=jQuery(this),1==Z)return!0;if(1==dig_mdet.verify_mobile){var e=jQuery("form#your-profile #username").val(),i=jQuery("form#your-profile .dig_wc_logincountrycode").val(),t=i+e,r=jQuery("form#your-profile #dig_cur_phone").val();if(0==e.length)return!0;if(r==t)return!0;var d=jQuery("#profile_update_otp");if(jQuery.isNumeric(e)){if(1==F)return Ge(i,e,V.val(),d.val(),11),!1;d.length?ze(i,e,V.val(),11):(l.show(),AccountKit.login("PHONE",{countryCode:i,phoneNumber:oi(e)},Be))}else ei(dig_mdet.InvalidMobileNumber);return!1}}),jQuery(document).on("click","#dig_man_resend_otp_btn",function(){var i=jQuery(this);jQuery(this).hasClass("dig_resendotp_disabled")||(l.show(),jQuery.ajax({type:"post",async:!0,url:dig_mdet.ajax_url,data:{action:"digits_resendotp",countrycode:i.attr("countrycode"),mobileNo:i.attr("mob"),csrf:i.attr("csrf"),login:i.attr("dtype")},success:function(e){e=e.trim(),l.hide(),0==e?ei(dig_mdet.Pleasetryagain):-99==e?ei(dig_mdet.invalidcountrycode):Ze(i)}}))});var re,de,ne=dig_mdet.resendOtpTime,oe=0;if(jQuery("#dig_wc_check_page").length&&1==dig_mdet.mob_verify_checkout&&0<dig_mdet.mobile_accept){jQuery("#dig_billing_otp").closest("p").hide();var ae,ue=jQuery("#dig_wc_check_page").parent().find("#username"),se=ue.closest(".create-account");if(h.length&&1==dig_mdet.pass_accept)ae="<input type='submit' class='dig_billing_pass_signup' id='dig_billing_pass_btn' onclick='verifyOTPbilling(2);return false;' value='"+dig_mdet.signupwithpassword+"'/><div class='digor' id='digorbilling'>"+dig_mdet.or+"</div><input type='submit' class='dig_billing_otp_signup' onclick='verifyOTPbilling(1);return false;' value='"+dig_mdet.signupwithotp+"'/>";else{var ce=dig_mdet.signupwithotp;0!=dig_mdet.mobile_accept&&2!=dig_mdet.pass_accept&&0!=dig_mdet.pass_accept||(ce=dig_mdet.signup,"dig_billing_signup"),ue.attr("data-show-btn","dig_billing_otp_signup"),ae="<input type='submit' class='dig_billing_otp_signup' onclick='verifyOTPbilling(1);return false;' value='"+ce+"'/>"}se.append("<div class='dig_billing_wc_dv'>"+ae+'</div><div  class="dig_resendotp dig_wcbil_bill_resend" id="dig_man_resend_otp_btn" dis="1">'+dig_mdet.resendOTP+" <span>(00:<span>30</span>)</span></div><a id='dig_billing_validate_button' style='display:none;'></a><a id='dig_billing_signupwithpassword' style='display:none;'></a><br /> ");h.length&&2!=dig_mdet.pass_accept&&(jQuery("#dig_billing_password_field").hide(),jQuery("#dig_billing_signupwithpassword").click(function(){jQuery("#digorbilling").hide(),jQuery("#dig_billing_pass_btn").hide(),jQuery("#dig_billing_password_field").show()})),jQuery("#dig_billing_validate_button").click(function(){re=jQuery(this),oe=1,de=se.find("#username");var i=!1;if(se.find("input,textarea,select").each(function(){if(jQuery(this).attr("required")||jQuery(this).attr("data-req")){var e=jQuery(this);if(e.is(":checkbox")||e.is(":radio")){if(!e.is(":checked")&&!jQuery('input[name="'+e.attr("name")+'"]:checked').val())return!(i=!0)}else if(0==e.val().length)return!(i=!0)}}),i)return ei(dig_log_obj.fillAllDetails),!1;if(jQuery(".dig_opt_mult_con_tac").find(".dig_input_error").length)return ei(dig_mdet.accepttac),!1;if(0==dig_log_obj.mobile_accept&&0==dig_log_obj.mail_accept)return!0;var e=de.val(),t=se.find(".dig_wc_logincountrycode").val();return(jQuery.isNumeric(e)||2==dig_mdet.mobile_accept)&&jQuery.isNumeric(e)?void(jQuery("#dig_billing_otp").length?ze(t,e,V.val(),2):(l.show(),AccountKit.login("PHONE",{countryCode:t,phoneNumber:oi(e)},Fe))):(ei(dig_mdet.InvalidMobileNumber),!1)})}var le=jQuery("#ihc_login_form"),ge=window.location.href;if(ge=ge.substring(0,ge.indexOf("?")),le.length&&0<dig_mdet.login_mobile_accept){var _e=le.find("#iump_login_username"),me=le.find("#iump_login_password");_e.attr("placeholder",dig_mdet.UsernameMobileno),le.attr("action",ge+"?login=true");var pe=dig_mdet.uccode;le.find("input[type='hidden']").val(dig_mdet.nonce).attr("name","dig_nounce"),le.append("<input type='hidden' value='true' name='isimpc' />"),_e.wrap('<div class="digcon"></div>').before('<div class="dig_ihc_countrycodecontainer dig_ihc_logincountrycodecontainer" style="display: none;"><input type="text" name="countrycode" class="input-text countrycode dig_ihc_logincountrycode" value="'+pe+'" maxlength="6" size="3" placeholder="'+pe+'" style="position: absolute;top:0;"/></div>'),_e.attr("name","mobmail"),me.attr("name","password"),_e.bind("keyup change",function(e){jQuery.isNumeric(jQuery(this).val())?(jQuery(".dig_ihc_logincountrycodecontainer").css({display:"inline-block"}),jQuery(this).attr("style","padding-left:"+(jQuery(".dig_ihc_logincountrycode").outerWidth(!0)+10)+"px !important")):(jQuery(".dig_ihc_logincountrycodecontainer").hide(),jQuery(this).removeAttr("style"))}),1!=dig_mdet.auth&&jQuery('<div class="impu-form-line-fr impu-dig-otp" id="impu-dig-otp" style="display: none;"><input value="" id="digits_otp_ihc" name="digit_otp" placeholder="'+dig_mdet.OTP+'" type="text" style="padding-left:10px !important;">').insertBefore("#ihc_login_form .impu-form-submit"),jQuery(".dig_ihc_logincountrycode").bind("keyup change",function(e){var i=jQuery(this).val().length;++i<2&&(i=2),jQuery(this).attr("size",i),0==jQuery(this).val().trim().length&&jQuery(this).val("+"),_e.attr("style","padding-left:"+(jQuery(".dig_ihc_logincountrycode").outerWidth(!0)+10)+"px !important")}),jQuery("#ihc_login_form").unbind("submit");var fe=0;jQuery(document).on("click","#impu_log_submit",function(){return re=jQuery(this),1==ye?Ge(jQuery(".dig_ihc_logincountrycode").val(),_e.val(),dig_mdet.nonce,jQuery("#digits_otp_ihc").val(),1):(jQuery.isNumeric(_e.val())&&((he=1)!=dig_mdet.auth?ze(jQuery(".dig_ihc_logincountrycode").val(),_e.val(),dig_mdet.nonce,1):(he=10,AccountKit.login("PHONE",{countryCode:jQuery(".dig_ihc_logincountrycode").val(),phoneNumber:oi(_e.val())},De))),0==fe&&(fe=1,le.find("#digorimp").hide(),le.find(".impu-form-submit").find("input:first").remove(),le.find("div").each(function(e){1<e&&(jQuery(this).hasClass("impu-form-submit")||jQuery(this).hasClass("dig_ihc_logincountrycodecontainer")||jQuery(this).hasClass("impu-dig-otp")||jQuery(this).hide())}))),!1}),0<dig_mdet.login_otp_accept&&le.find(".impu-form-submit").append("<div id='digorimp'> OR<br /><br /></div><input type='submit' id='impu_log_submit' value='Login With OTP' /><div class='dig_resendotp dig_impu_login_resend' id='dig_man_resend_otp_btn' dis='1'>"+dig_mdet.resendOTP+" <span>(00:<span>30</span>)</span></div></div>")}var ye=0,he=0,ve=jQuery(".ihc-pass-form-wrap"),be=ve.find("input[type='hidden']"),je=0,Qe=0;if("reset_pass"==be.val()&&0<dig_mdet.forgot_pass){var we=ve.find("form"),Ne=we.find("input[type='submit']");jQuery("<div class='dig_resendotp dig_impu_forg_resend' id='dig_man_resend_otp_btn' dis='1'>"+dig_mdet.resendOTP+" <span>(00:<span>30</span>)</span></div>").insertAfter(Ne),we.append("<input type='hidden' name='dig_nounce' value='"+dig_mdet.nonce+"' /><input type='hidden' name='ihc' value='true' />");var Ae=ve.find("input[type='text']");we.on("submit",function(e){if(re=jQuery(this),2==Qe)return jQuery("#digits_password_ihc").val()!=jQuery("#digits_cpassword_ihc").val()?(ei(dig_mdet.Passwordsdonotmatch),!1):void we.unbind("submit").submit();if(Qe=1,jQuery.isNumeric(Ae.val())){we.attr("action",ge+"?login=true"),Ae.attr("name","forgotmail");var i=jQuery(".dig_ihc_forgotcountrycode").val();return 1!=dig_mdet.auth?0==je?ze(i,Ae.val(),dig_mdet.nonce,3):(Qe=1,Ge(i,Ae.val(),dig_mdet.nonce,jQuery("#digits_otp_forg_ihc").val(),3)):AccountKit.login("PHONE",{countryCode:i,phoneNumber:oi(Ae.val())},Re),!1}return Ae.attr("name","email_or_userlogin"),we.removeAttr("action"),!0});pe=dig_mdet.uccode;Ae.wrap('<div class="digcon"></div>').before('<div class="dig_ihc_forgot_countrycodecontainer dig_ihc_forgot_logincountrycodecontainer" style="display: none;"><input type="text" name="countrycode" class="input-text countrycode dig_ihc_forgotcountrycode" value="'+pe+'" maxlength="6" size="3" placeholder="'+pe+'" style="position: absolute;top:0;"/></div>'),Ae.attr("placeholder",dig_mdet.UsernameMobileno),jQuery('<div class="impu-form-line-fr" id="digits_password_ihc_cont" style="display: none;"><input value="" id="digits_password_ihc" name="digits_password" placeholder="'+dig_mdet.Password+'" type="password" style="padding-left:10px !important;"></div><div class="impu-form-line-fr" id="digits_cpassword_ihc_cont" style="display: none;"><input value="" id="digits_cpassword_ihc" name="digits_cpassword" placeholder="'+dig_mdet.ConfirmPassword+'" type="password" style="padding-left:10px !important;"></div>').insertAfter(Ae.closest(".impu-form-line-fr")),1!=dig_mdet.auth?jQuery('<div class="impu-form-line-fr impu-dig-otp" id="impu-dig-otp" style="display: none;"><input value="" id="digits_otp_forg_ihc" name="dig_otp" placeholder="'+dig_mdet.OTP+'" type="text" style="padding-left:10px !important;"></div>').insertAfter(Ae.closest(".impu-form-line-fr")):jQuery('<input type="hidden" name="code" id="digits_impu_code"/><input type="hidden" name="csrf" id="digits_impu_csrf"/>').insertAfter(Ae.closest(".impu-form-line-fr")),Ae.bind("keyup change",function(e){jQuery.isNumeric(jQuery(this).val())?(jQuery(".dig_ihc_forgot_countrycodecontainer").css({display:"inline-block"}),jQuery(this).attr("style","padding-left:"+(jQuery(".dig_ihc_forgotcountrycode").outerWidth(!0)+10)+"px !important")):(jQuery(".dig_ihc_forgot_countrycodecontainer").hide(),jQuery(this).removeAttr("style"))}),jQuery(".dig_ihc_forgotcountrycode").bind("keyup change",function(e){var i=jQuery(this).val().length;++i<2&&(i=2),jQuery(this).attr("size",i),0==jQuery(this).val().trim().length&&jQuery(this).val("+"),Ae.attr("style","padding-left:"+(jQuery(".dig_ihc_forgotcountrycode").outerWidth(!0)+10)+"px !important")})}jQuery(document).on("click",".dig_popmessage",function(){jQuery(this).closest(".dig_popmessage").slideUp("fast",function(){jQuery(this).remove()})}),jQuery(".dig_bp_enb").length&&jQuery(".dig_bp_enb").each(function(e){jQuery(this).remove()});var Te=0,ke=0;jQuery(document).on("click","#signup_submit_pass_bp",function(){if(1==ke)return!0;ke=1;var e=jQuery("#buddypress").find("form");return e.find("#dig_reg_bp_pass").show().find("input").attr("required","required"),e.find("#signup_submit_otp_bp").hide(),!1}),jQuery("#buddypress #signup_form").on("submit",function(){if(re=jQuery(this).find('input[name="signup_submit"]'),2==Te)return!0;Te=1;var e=jQuery("#buddypress").find("form"),i=e.find("#username").val(),t=e.find(".dig_wc_logincountrycode").val(),r=jQuery("#dig_bp_reg_otp"),d=e.find("#signup_password").val();if(1==dig_mdet.strong_pass&&(2==dig_mdet.pass_accept||0<d.length)){var n=wp.passwordStrength.meter(d,["black","listed","word"],d);if(null!=n&&n<3)return ei(dig_mdet.useStrongPasswordString),!1}if(1==Pe)Ge(t,i,V.val(),r.find("input").val(),2);else if(0==i.length)ei(dig_mdet.pleaseentermobormail);else if(0!=d.length||jQuery.isNumeric(i))if(jQuery.isNumeric(i))e.find("#signup_submit_otp_bp").is(":visible")&&e.find("#signup_submit_pass_bp").remove(),r.length?ze(t,i,V.val(),2):(l.show(),AccountKit.login("PHONE",{countryCode:t,phoneNumber:oi(i)},ti));else{if(We(i))return!0;ei(dig_mdet.Invaliddetails)}else ei(dig_mdet.eitherentermoborusepass);return!1});var Pe=0,xe=0,Ce=0;jQuery("#buddypress").find("form#settings-form").on("submit",function(){re=jQuery(this);var e=jQuery(this),i=e.find("#username").val(),t=e.find("#dig_wc_logincountrycode").val();if(jQuery("#dig_superadmin").length)return!0;if(!jQuery.isNumeric(i))return!0;if(i==e.find("#dig_bp_current_mob"))return!0;if(1==Ce){var r=jQuery("#bp_otp_dig_ea");Ge(t,i,V.val(),r.find("input").val(),11)}else xe=1,e.find("#bp_otp_dig_ea").length?ze(t,i,V.val(),11):(l.show(),AccountKit.login("PHONE",{countryCode:t,phoneNumber:oi(i)},ri));return!1});var Ee=0,Ie=0;if(o.length){var qe=jQuery("#dig_ihc_mobcon");jQuery(".iump-register-form").find("#edituser").length&&0<dig_mdet.mobile_accept&&(jQuery(o).prepend(qe),jQuery(qe.find("#dig_ihc_mobotp")).insertBefore(o.find("input[type='submit']").parent())),jQuery(".ihc-form-create-edit input[type=submit]").click(function(){re=jQuery(this);var e=jQuery(".ihc-form-create-edit");if(1==Ee||!e.find("#username").length)return!0;var i=e.find("#username").val(),t=e.find(".dig_wc_logincountrycode").val();if(i==e.find("#dig_ihc_current_mob").val())return!0;if(jQuery.isNumeric(i))if(2==Ie){var r=e.find("#dig_ihc_mobotp");Ge(t,i,V.val(),r.find("input").val(),11)}else jQuery("#dig_ihc_mobotp").length&&1!=dig_mdet.auth?(Ie=1,ze(t,i,V.val(),11)):(l.show(),AccountKit.login("PHONE",{countryCode:t,phoneNumber:oi(i)},di));else{if(!(0<i.length))return!0;ei(dig_mdet.InvalidMobileNumber)}return!1})}var Oe=0,Me=0;if(A.find("form").on("submit",function(){if(re=jQuery(this).find("#um-submit-btn"),1==Oe)return!0;var e=jQuery(this),i=e.find("#username").val(),t=e.find(".dig_wc_logincountrycode").val(),r=e.find(".dig_otp_um_reg");return 0==i.length||(0<e.find("#um_sub").length||(jQuery.isNumeric(i)?(l.show(),r.length?2==Me?Ge(t,i,V.val(),r.find("input").val(),2):(Me=1,ze(t,i,V.val(),2)):AccountKit.login("PHONE",{countryCode:t,phoneNumber:oi(i)},ni),jQuery(".um-register").find("input[type='submit']").removeAttr("disabled")):ei(dig_mdet.InvalidMobileNumber),!1))}),jQuery(".dig_um_loginviaotp").on("click",function(){re=jQuery(this);var e=T.find("#username").val(),i=jQuery(".dig_nounce").val(),t=T.find(".dig_wc_logincountrycode").val();if(""==e||""==t)return ei(dig_mdet.InvalidMobileNumber),!1;var r=jQuery(".dig_otp_um_login");return jQuery.isNumeric(e)&&jQuery.isNumeric(e)?2==Me?Ge(t,e,i,r.find("input").val(),1):jQuery.isNumeric(e)?r.length?ze(t,e,i,Me=1):(l.show(),AccountKit.login("PHONE",{countryCode:t,phoneNumber:oi(e)},De)):0<e.length?ei(dig_log_obj.Thisfeaturesonlyworkswithmobilenumber):r.length?ze(t,e,i):(l.show(),AccountKit.login("PHONE",{countryCode:t},De)):ei(dig_mdet.InvalidMobileNumber),!1}),0<jQuery("#dig_reg_mail").length&&""!=jQuery("#reg_email").attr("placeholder")&&null!=jQuery("#reg_email").attr("placeholder")){var He=jQuery("#reg_billing_first_name");He.attr("placeholder",jQuery.trim(He.parent().find("label").text())),jQuery(".register").find(".dig-custom-field").each(function(){var e=jQuery.trim(jQuery(this).find("label").text());jQuery(this).find("input").attr("placeholder",e)})}}function Re(e){l.hide(),"PARTIALLY_AUTHENTICATED"===e.status&&(jQuery("#digits_impu_code").val(e.code),jQuery("#digits_impu_csrf").val(e.csrf),jQuery("#digits_password_ihc_cont").show().find("input").attr("required","required"),jQuery("#digits_cpassword_ihc_cont").show().find("input").attr("required","required"),Qe=2)}function De(e){"PARTIALLY_AUTHENTICATED"===e.status?function(e){if(t==e.code)return;var i=0;jQuery("#rememberme").length&&(i=0<jQuery("#rememberme:checked").length),t=e.code,jQuery.ajax({type:"post",url:dig_mdet.ajax_url,data:{action:"digits_login_user",code:e.code,csrf:e.state,rememberMe:i},success:function(e){e=e.trim(),l.hide(),"1"==e?10==he?document.location.href="/":window.location.href=dig_mdet.uri:ei(-1==e?dig_mdet.pleasesignupbeforelogginin:-9==e?dig_mdet.invalidapicredentials:dig_mdet.invalidlogindetails)}})}(e):"NOT_AUTHENTICATED"===e.status?l.hide():"BAD_PARAMS"===e.status&&l.hide()}function Le(e){if(0==dig_mdet.login_mobile_accept){var i=e.attr("f-mob");if(!i||0==i)return}if(0==dig_mdet.mobile_accept&&1==(d=e.attr("reg")))return;var t,a=e,r=a.attr("data-dig-main");if(!r)if(1==e.attr("data-dig-mob"))t=e.attr("countryCode")?e.attr("countryCode"):dig_mdet.uccode;else if(1!=e.attr("mob")){var d,n=dig_mdet.emailormobile;(d=e.attr("reg"))&&0!=d?1==d&&(0<dig_mdet.mobile_accept&&0<dig_mdet.mail_accept?n=dig_mdet.emailormobile:0<dig_mdet.mobile_accept?n=dig_mdet.MobileNumber:0<dig_mdet.mail_accept&&(n=dig_mdet.email)):(d=0)<dig_mdet.login_mobile_accept&&0<dig_mdet.login_mail_accept?n=dig_mdet.emailormobile:0<dig_mdet.login_mobile_accept?n=dig_mdet.MobileNumber:0<dig_mdet.login_mail_accept&&(n=dig_mdet.email),2!=d&&(a.prev().html(n+" <span class=required>*</span>"),a.attr("placeholder")&&a.attr("placeholder",n)),t=dig_mdet.uccode}else a.prev().html(dig_mdet.MobileNumber+" <span class=required>*</span>"),a.attr("placeholder")&&a.attr("placeholder",dig_mdet.MobileNumber),t=e.attr("countryCode")?e.attr("countryCode"):dig_mdet.uccode;var o="",u="",s="digt_countrycode";if(e.attr("data-skip-label"))t=dig_mdet.uccode;else if(r){var c=e.attr("countryCode");t=-1==c&&0==String(p).length||-1==c&&0==String(f).length?dig_mdet.uccode:-1==c?"+":"+"+c,o="dig_update_hidden ",u='data-dig-main="'+a.attr("data-dig-main")+'"',s=a.attr("data-dig-main")+"_digt_countrycode"}a.wrap('<div class="digcon"></div>').before('<div class="dig_wc_countrycodecontainer dig_wc_logincountrycodecontainer"><input type="text" name="'+s+'" class="'+o+'input-text countrycode dig_wc_logincountrycode" value="'+t+'" maxlength="6" size="3" placeholder="'+t+'" '+u+"/></div>"),a.attr("nan")||a.attr("name","mobile/email"),a.bind("keyup change",function(e){var i=a.parent().find(".dig_wc_countrycodecontainer"),t=i.find("input"),r=a.attr("data-dig-main");if(r){var d=jQuery(this).closest(".digcon").find(".dig_update_hidden"),n=jQuery(this).val(),o=d.val();jQuery.isNumeric(n)&&0<n.length&&jQuery.isNumeric(o)&&0<o.length?jQuery("#"+r).val(o+""+n):jQuery("#"+r).val("")}jQuery.isNumeric(jQuery(this).val())||jQuery(this).attr("only-mob")?(i.css({display:"inline-block"}),t.trigger("keyup"),a.attr("data-show-btn")&&jQuery("."+a.attr("data-show-btn")).show()):(i.hide(),jQuery(this).css({"padding-left":"0.75em"}),a.attr("data-show-btn")&&2!=dig_mdet.mobile_accept&&jQuery("."+a.attr("data-show-btn")).hide()),Ue(a)}),setTimeout(function(){a.trigger("keyup")})}function Ue(e){var i=e.closest("form");if(jQuery.isNumeric(e.val())){var t=e.parent().find(".dig_wc_countrycodecontainer").find("input");i.find("#loginuname").val(t.val()+e.val())}else i.find("#loginuname").val(e.val())}function Se(e){var i=e.val(),t=e.closest("form"),r=t.find(".dig_wc_registersecondcountrycodecontainer"),d=(e.parent(),t.find(".secondmailormobile")),n=t.find("#dig_secHolder");if(jQuery.isNumeric(i)&&1!=P||2==dig_mdet.mail_accept?(P=1,n.html(dig_mdet.email),r.hide(),d.css({"padding-left":"0.75em"})):jQuery.isNumeric(i)||2==P||2==dig_mdet.mobile_accept||(P=2,n.html(dig_mdet.MobileNumber),r.css({display:"inline-block"}),d.css({"padding-left":r.find(".dig_wc_registersecondcountrycode").outerWidth()+15+"px"})),2!=dig_mdet.mail_accept&&2!=dig_mdet.mobile_accept){if(""==i||0==i.length)return t.find(".dig_wc_mailsecond").stop().slideUp(),void(k=!1);if(k)return;t.find(".dig_wc_mailsecond").stop().slideDown().show(),k=!0}}function Ke(e){if(l.hide(),"PARTIALLY_AUTHENTICATED"===e.status){x=1;var i=e.code,t=e.state;q.find("#register_code").val(i),q.find("#register_csrf").val(t),q.find('[type="submit"]').click()}}function We(e){return 0<=e.search("@")&&0<=e.search(/\./)&&e.search("@")<e.split("@")[1].search(/\./)+e.search("@")}function ze(r,d,n,o){O!=r||M!=d||H!=o?(y=!1,l.show(),ii(),O=r,M=d,H=o,jQuery.ajax({type:"post",async:!0,url:dig_mdet.ajax_url,data:{action:"digits_check_mob",countrycode:r,mobileNo:d,csrf:n,login:o,username:D,email:L,captcha:U,captcha_ses:S},success:function(i){if(S=U=L=D="",M=H=0,i=i.trim(),l.hide(),9192!=i)if(9193!=i)if(9194!=i)if(-99!=i){if(-11==i){if(1==o)return void ei(dig_mdet.pleasesignupbeforelogginin);if(3==o)return void ei(dig_mdet.Mobilenumbernotfound)}else if(0==i)return void ei(dig_mdet.error);if(-1==i&&2==o||-1==i&&11==o)ei(dig_mdet.MobileNumberalreadyinuse);else if(d=d.replace(/^0+/,""),r=r.replace(/^0+/,""),1==dig_mdet.firebase){y=!0,l.show();var e=r+d,t=window.recaptchaVerifier;firebase.auth().signInWithPhoneNumber(e,t).then(function(e){K=1,l.hide(),window.confirmationResult=e,Ye(i,r,d,n,o)}).catch(function(e){l.hide(),ei(dig_mdet.Invaliddetails)})}else Ye(i,r,d,n,o)}else ei(dig_mdet.invalidcountrycode);else ei("Please enter a valid captcha!");else ei("Email is already in use!");else ei("Username is already in use!")}})):l.hide()}function Ye(e,i,t,r,d){if(y=!1,1==d){if(1==e)if(1==he)he=0,Ze(jQuery(".dig_impu_login_resend").attr({countrycode:i,mob:t,csrf:r,dtype:d})),(n=jQuery("#impu-dig-otp")).show().find("input").attr("required","required").focus(),ye=1;else if(1==Me)T.find(".digor").hide().remove(),T.find(".um-row").slideUp(),T.find(".um-col-alt").slideUp().remove(),T.find(".um-col-alt-b").hide().remove(),jQuery(".dig_otp_um_login").fadeIn().find("input").attr("required","required").focus(),Me=2,c=T.find("form"),Ze(jQuery(".dig_um_login_resend").attr({countrycode:i,mob:t,csrf:r,dtype:d}));else{Ze(jQuery(".dig_wc_login_resend").attr({countrycode:i,mob:t,csrf:r,dtype:d})),function(){jQuery(".digor").remove(),W.find(".lost_password").hide(),W.find("input[type='submit']").hide(),W.find(".dig-custom-field-type-captcha").hide(),_.length&&(_.find('input[type="password"]').parent().remove(),_.find(".form-row-first").removeClass("form-row-first"),_.find("#rememberme").closest("label").remove(),_.find('[name="login"]').remove());W.find(".form-row").find("input[type='password']").each(function(e){var i=jQuery(this).closest(".form-row");1!=e&&1!=i.attr("otp")?i.remove():1==e&&i.find("label").text(dig_mdet.MobileNumber+" *")})}(),Y=1,(n=W.find("#dig_wc_log_otp_container")).slideDown().find("input").attr("required","required").focus(),jQuery("#username").closest("p").hide()}}else if(2==d){if(1==oe)Ze(jQuery(".dig_wcbil_bill_resend").attr({countrycode:i,mob:t,csrf:r,dtype:d})),1,jQuery("#digorbilling").hide(),jQuery(".dig_billing_otp_signup").hide(),(n=jQuery("#dig_billing_otp")).attr("required","required").closest("p").slideDown(),n.focus();else if(1==Te){Ze(jQuery(".dig_wcbil_bill_resend").attr({countrycode:i,mob:t,csrf:r,dtype:d})),(n=jQuery("#dig_bp_reg_otp")).show().find("input").attr("required","required").focus(),Pe=1,Te=0}else if(1==Me){var n=jQuery(".dig_otp_um_reg");c=A.closest("form"),n.slideDown().find("input").attr("required","required").focus(),Me=2,Ze(jQuery(".dig_um_regis_resend").attr({countrycode:i,mob:t,csrf:r,dtype:d}))}else{Ze(jQuery(".dig_wc_register_resend").attr({countrycode:i,mob:t,csrf:r,dtype:d})),q.find(".form-row").find("input[type='password']").each(function(){jQuery(this).closest(".form-row").slideUp()}),(n=q.find("#reg_billing_otp_container")).slideDown().find("input").attr("required","required").focus(),z=1}}else if(3==d){if(1==Qe)Ze(jQuery(".dig_impu_forg_resend").attr({countrycode:i,mob:t,csrf:r,dtype:d})),(n=jQuery("#impu-dig-otp")).show().find("input").attr("required","required").focus(),je=1,Qe=0;else Ze(jQuery(".dig_wc_forgot_resend").attr({countrycode:i,mob:t,csrf:r,dtype:d})),B=1,a.attr("name","forgotmail"),(n=jQuery("#digit_forgot_otp_container")).show().find("input").attr("required","required").focus()}else if(11==d)if(1==te){jQuery("form#your-profile .form-table").find("input [type='password']").each(function(){jQuery(this).closest(".form-table").hide()});n=jQuery("#profile_update_otp_container");c=n.closest("form"),n.slideDown().find("input").attr("required","required").focus(),F=1}else if(1==xe){(n=jQuery("#bp_otp_dig_ea")).slideDown().find("input").attr("required","required").focus(),jQuery("#dig_bp_ac_ea_resend").show(),Ze(jQuery(".dig_bp_ac_ea_resend").attr({countrycode:i,mob:t,csrf:r,dtype:d})),Ce=1}else if(1==Ie){n=jQuery("#dig_ihc_mobotp");c=n.closest("form"),n.slideDown().find("input").attr("required","required").focus(),Ie=2}else{Ze(jQuery(".dig_wc_acc_edit_resend").attr({countrycode:i,mob:t,csrf:r,dtype:d})),(n=jQuery("#digit_ac_otp_container")).slideDown().find("input").attr("required","required").focus(),F=1}}function Be(e){if(l.hide(),"PARTIALLY_AUTHENTICATED"===e.status){var i=e.code,t=e.state;Z=1,jQuery("form#your-profile #dig_prof_code").val(i),jQuery("form#your-profile #dig_prof_csrf").val(t),jQuery("form#your-profile input[type='submit']").click()}else"NOT_AUTHENTICATED"===e.status||e.status}function Fe(e){if(l.hide(),"PARTIALLY_AUTHENTICATED"===e.status){var i=e.code,t=e.state;jQuery(".dig_billing_otp_signup").hide(),jQuery("#digorbilling").hide(),jQuery("#dig_wc_bill_code").val(i),jQuery("#dig_wc_bill_csrf").val(t)}}function Ve(e){if(l.hide(),"PARTIALLY_AUTHENTICATED"===e.status){var i=e.code,t=e.state;$=1,a.parent().parent().hide(),a.attr("name","forgotmail"),jQuery("#digits_wc_code").val(i),jQuery("#digits_wc_csrf").val(t),jQuery("form.lost_reset_password .changePassword").show()}else"NOT_AUTHENTICATED"===e.status||e.status}function Ge(e,i,t,r,d){var n,o,a,u,s;y=!1,ii(),l.show(),1==dig_mdet.firebase?(n=e,a=t,u=r,s=d,o=(o=i).replace(/^0+/,""),n=n.replace(/^0+/,""),window.confirmationResult.confirm(u).then(function(e){firebase.auth().currentUser.getIdToken(!0).then(function(e){window.verifyingCode=!1,window.confirmationResult=null,jQuery("#dig_ftok_fbase").remove(),c.append("<input type='hidden' name='dig_ftoken' value='"+e+"' id='dig_ftok_fbase' />"),Je(n,o,a,u,s,e)}).catch(function(e){l.hide(),ei(e)})}).catch(function(e){l.hide(),ei(dig_mdet.InvalidOTP)})):Je(e,i,t,r,d,-1)}function Je(e,i,t,r,d,n){if(G!=e||J!=i||X!=r){G=e,J=i,X=r;var o=0;jQuery("#rememberme").length&&(o=0<jQuery("#rememberme:checked").length),jQuery.ajax({type:"post",async:!0,url:dig_mdet.ajax_url,data:{action:"digits_verifyotp_login",countrycode:e,mobileNo:i,otp:r,dig_ftoken:n,csrf:t,dtype:d,rememberMe:o},success:function(e){if(11!=(e=e.trim())&&l.hide(),1011!=e)if(1013!=e)if(-99!=e)if(0!=e)if(11!=e)if(-1!=e||2==d||11==d)if(1==e&&2==d||1==e&&11==d)ei(dig_mdet.MobileNumberalreadyinuse);else if(2==d)1==Pe?(Pe=0,Te=2,jQuery("#buddypress #signup_form").find("input[name='signup_submit']").click()):2==Me?(Oe=1,jQuery(".um-register").find("form").submit()):(x=1,q.find('input[type="submit"]').click());else{if(3==d)return void(1==Qe?(jQuery("#digits_password_ihc_cont").show().find("input").attr("required","required"),jQuery("#digits_cpassword_ihc_cont").show().find("input").attr("required","required"),Qe=2):($=1,a.parent().parent().hide(),jQuery("#digit_forgot_otp_container").hide(),jQuery(".dig_wc_forgot_resend").hide(),a.attr("name","forgotmail"),jQuery("form.lost_reset_password .changePassword").show(),re.is(":input")?re.val(ee):re.text(ee)));11==d&&(1==te?(Z=1,jQuery("form#your-profile input[type='submit']").click()):1==xe?jQuery("#buddypress").find("form").unbind("submit").submit():2==Ie?(Ee=1,jQuery(".ihc-form-create-edit").submit()):(ie=1,jQuery("form.woocommerce-EditAccountForm").submit()))}else ei(dig_mdet.ErrorPleasetryagainlater);else le.length||0<Me?document.location.href="/":window.location.href=dig_mdet.uri;else ei(dig_mdet.InvalidOTP);else ei(dig_mdet.invalidcountrycode);else ei(dig_mdet.error);else ei(dig_mdet.error)}})}else l.hide()}function Xe(e){if(l.hide(),"PARTIALLY_AUTHENTICATED"===e.status){var i=e.code,t=e.state;ie=1,jQuery("form.woocommerce-EditAccountForm #dig_wc_prof_code").val(i),jQuery("form.woocommerce-EditAccountForm #dig_wc_prof_csrf").val(t),jQuery("form.woocommerce-EditAccountForm input[type='submit']").click()}else"NOT_AUTHENTICATED"===e.status||e.status}function Ze(i){c=i.closest("form"),re&&re.attr("value",dig_mdet.SubmitOTP).text(dig_mdet.SubmitOTP),i.attr("dis",1).addClass("dig_resendotp_disabled").show().find("span").show();var t=i.find("span");t.text($e(ne));var r=0,d=setInterval(function(){var e=ne-r;t.text($e(e)),ne<=++r&&(clearInterval(d),i.removeAttr("dis").removeClass("dig_resendotp_disabled").find("span").hide(),r=0)},1e3,!0)}function $e(e){var i=parseInt(e,10),t=Math.floor(i/3600),r=Math.floor((i-3600*t)/60),d=i-3600*t-60*r;return r<10&&(r="0"+r),d<10&&(d="0"+d),"("+r+":"+d+")"}function ei(e){jQuery(".dig_popmessage").length?(jQuery(".dig_popmessage").find(".dig_lase_message").text(e),jQuery(".dig_popmessage").is(":visible")||jQuery(".dig_popmessage").slideDown("fast")):(jQuery("body").append("<div class='dig_popmessage'><div class='dig_firele'><img src='"+dig_mdet.face+"'></div><div class='dig_lasele'><div class='dig_lase_snap'>"+dig_mdet.ohsnap+"</div><div class='dig_lase_message'>"+e+"</div></div><img class='dig_popdismiss' src='"+dig_mdet.cross+"'></div>"),jQuery(".dig_popmessage").slideDown("fast"))}function ii(){jQuery(".dig_popmessage").fadeOut(120)}function ti(e){if(l.hide(),"PARTIALLY_AUTHENTICATED"===e.status){var i=e.code,t=e.state;jQuery("#dig_bp_reg_code").val(i),jQuery("#dig_bp_reg_csrf").val(t),Te=2,jQuery("#buddypress").find("form").submit()}}function ri(e){if(l.hide(),"PARTIALLY_AUTHENTICATED"===e.status){var i=e.code,t=e.state;jQuery("#dig_bp_ea_code").val(i),jQuery("#dig_bp_ea_csrf").val(t),Te=2,jQuery("#buddypress").find("form").unbind("submit").submit()}}function di(e){if(l.hide(),"PARTIALLY_AUTHENTICATED"===e.status){var i=e.code,t=e.state;jQuery("#dig_ihc_ea_code").val(i),jQuery("#dig_ihc_ea_csrf").val(t),Ee=1,jQuery(".ihc-form-create-edit").submit()}}function ni(e){if(l.hide(),"PARTIALLY_AUTHENTICATED"===e.status){var i=e.code,t=e.state;jQuery("#digits_um_code").val(i),jQuery("#digits_um_csrf").val(t),Oe=1,jQuery(".um-register").find("form").submit()}}function oi(e){return e.replace(/^0+/,"")}});